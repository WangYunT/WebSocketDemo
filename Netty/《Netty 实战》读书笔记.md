# Netty 读书笔记

>  Netty是一款用于快速开发高性能网络应用程序的Java框架。它封装了网络编程的复杂性，使用网络编程和Web技术的最新进展能被比以往更广泛的开发人员控制。  
> Netty不只是一个接口和类的集合，它还定义了一种架构模型以及一套丰富的设计模式。
> 本书有四个部分，为：
* ## 第一部分：Netty的概念及体系架构
  >1. 介绍阻塞和非阻塞的网络API，以及他们对应的接口
  >2. 讨论Netty的技术以及体系结构方面的内容。
  >3. 讨论了网络传输。
  >4. 介绍Netty框架的数据处理——ByteBuf，Netty的字节容器。
  >5. 重点介绍核心组件ChannelHandler和ChannelPiepline,他们负责调度应用程序的处理逻辑，并驱动数据和事件经过网络层。
  >6. 提供了关于线程模型的一般概述，并详细介绍了Netty的线程模型。
  >7. 以介绍BootStrap类的层级结构作为印子，深入的讲解了引导。
  >8. 对ChannelHandler进行单元测试的讨论，对此Netty提供了一个特殊的Channel实现——EmbeddedChannel。

* ## 第二部分：编解码器
  >1. 首先解释了解码器和编码器
  >2. 研究了Netty 提供的用于各种用例的编解码器以及ChannelHandler。

* ## 第三部分：网络协议
  >1. 展示了如何使用WebSocket 协议来实现Web 服务器和客户端之间的双向通信。
  >2. 通过利用了用户数据报协议（UDP）的广播能力的服务器和客户端应用程序，说明了Netty 对于无连接协议的支持。

* ## 第四部分：案例研究
  >1. Droplr、Firebase 以及Urban Airship 提交的案例研究。


##  第一部分 Netty的概念及体系结构
### 第一章 Netty——异步和事件驱动
#### 1.1 Java网络编程
> 本章主要内容 
> + Java网络编程
> + Netty简介
> + Netty的核心组件

##### 1.1.1 Java 中NIO

&nbsp;&nbsp;NIO即New IO，这个库是JDK 1.4引入的。Java API中提供了两套NIO，一套是针对标准输入输出NIO，另一套就是网络编程的NIO。

&nbsp;&nbsp;它有几个核心的对象需要掌握：缓冲区（Buffer）、通道（Channel）、选择器（Selector）。

缓冲区：缓冲区实际上是一个容器对象，更直接的说，其实就是一个数组，在NIO库中，所有数据都是用缓冲区处理的。在读取数据时，它是直接读到缓冲区中的； 在写入数据时，它也是写入到缓冲区中的；任何时候访问 NIO 中的数据，都是将它放到缓冲区中。

通道：通道是一个对象，通过它可以读取和写入数据，当然了所有数据都通过Buffer对象来处理。我们永远不会将字节直接写入通道中，相反是将数据写入包含一个或者多个字节的缓冲区。

选择器：Java NIO的选择器允许一个单独的线程来监视多个输入通道，你可以注册多个通道使用一个选择器，然后使用一个单独的线程来“选择”通道：这些通道里已经有可以处理的输入，或者选择已准备写入的通道。这种选择机制，使得一个单独的线程很容易来管理多个通道。

#### 1.2 Netty简介
##### 1.2.1 异步和事件驱动
&nbsp;&nbsp;当一个异步过程调用发出后，调用者不能立刻得到结果。实际处理这个调用的部件在完成后，通过状态、通知和回调来通知调用者。

&nbsp;&nbsp;事件驱动编程是一种编程范式，这里程序的执行流由外部事件来决定。它的特点是包含一个事件循环，当外部事件发生时使用回调机制来触发相应的处理。另外两种常见的编程范式是(单线程)同步以及多线程编程。

#### 1.3 Netty 的核心组件
>在本节中，我们要讨论Netty的主要构件块：
>+ Channel
>+ 回调
>+ Future
>+ 事件和channelHandler



